<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .hidden { display: none; }
    </style>
</head>
<body>


    <div id="table">
        <button onclick="cadastrar()">Cadastrar</button>
        <table border="1">
            <tr>
                <th>Nome</th>
                <th>Preço</th>
                <th>Quantidade</th>
                <th>Valor Total</th>
                <th>Ações</th>
                <tbody id="corpo"></tbody>
            </tr>            
        </table>
    </div>

    <div id="cadastro" class="hidden">

        Nome: <input id="nome" type="text"> <br> <br>
        Preço: <input id="preco" type="number"> <br> <br>
        Quantidade: <input id="qtd" type="number"> <br> <br>

        <button onclick="salvar()">Salvar</button>  
        <button onclick="voltar()">Cancelar</button>

        
    </div>
   
   
   <script>

        let nomes = []
        let precos = []
        let quantidades = []
        let total = []

        function cadastrar() {
            document.getElementById("table").classList.add("hidden")

            document.getElementById("cadastro").classList.remove("hidden")

        }

        function voltar() {

            document.getElementById("table").classList.remove("hidden")

            document.getElementById("cadastro").classList.add("hidden")

        }

        function salvar() {
            let nome = document.getElementById("nome")
            let preco = document.getElementById("preco")
            let qtd = document.getElementById("qtd")

            nomes.push(nome.value)
            precos.push( parseFloat(preco.value))
            quantidades.push(parseInt(qtd.value))
            total.push( parseFloat(preco.value) * parseInt(qtd.value))

            atualizarTabela()


        }

        function atualizarTabela() {

            voltar()
            let corpo = document.getElementById("corpo")
            corpo.innerHTML = ""
            for (let i = 0; i < nomes.length; i++) {
                let linha = document.createElement("tr")
                linha.innerHTML = `  
                    <td>${nomes[i]}</td>
                    <td>${precos[i]}</td>
                    <td>${quantidades[i]}</td>
                    <td>${total[i]}</td>
                    <td><button onclick="excluir(${i})">Excluir</button></td>
                `
                corpo.appendChild(linha)

            }
        


        }

        function excluir(indice) {
            nomes.splice(indice,1)
            precos.splice(indice,1)
            quantidades.splice(indice,1)
            total.splice(indice,1)
            atualizarTabela()
        }

      
    </script>
    
</body>
</html>